---
title: "10.2.2 连接的排空状态"
anchor: "10.2.2_Draining_Connection_State"
weight: 1022
rank: "h3"
---

一旦终端接收到**连接关闭帧**，他就会进入排空状态，这表明对端已处于关闭或排空状态。虽然在其他方面都和关闭状态一致，不过处于排空状态的终端{{< req_level MUST_NOT >}}发送任何数据包。一旦连接处于排空状态，就没有必要再保留数据包保护密钥了。

接收到**连接关闭帧**的终端{{< req_level MAY >}}再进入排空状态前发送一个包含**连接关闭帧**的数据包，并且，如若合适，使用`NO_ERROR`（无错误）代码。除此之外，终端{{< req_level MUST_NOT >}}发送更多数据包。不这么做会导致两个终端间保持不断交换**连接关闭帧**的状态，直到其中一个终端退出关闭状态。

如果终端接收到了**连接关闭帧**，那么它{{< req_level MAY >}}从关闭状态进入排空状态，这表明对端也处于关闭或排空状态。在这种情况下，排空状态会在原来关闭状态应该结束时结束。换句话说，终端使用相同的状态结束时机但是不再在这条连接上传输数据包。
