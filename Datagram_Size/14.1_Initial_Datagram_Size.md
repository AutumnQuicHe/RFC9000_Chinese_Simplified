---
title: "14.1 初始数据报尺寸"
anchor: "14.1_Initial_Datagram_Size"
weight: 1410
rank: "h2"
---

客户端{{< req_level MUST >}}通过向初始数据包增加**填充帧**或合并初始数据包的方式，对所有携带初始数据包的UDP数据报载荷进行扩充，至少扩充至1200字节，这个在允许的最大数据报尺寸中的最小值，详见[第12.2章]()。初始数据包甚至可以和不合法的数据包合并，后者会被接收方丢弃。相似的，服务器{{< req_level MUST >}}对所有携带引发确认的初始数据包的UDP数据报载荷进行扩充，至少扩充至1200字节，这个在允许的最大数据报尺寸中的最小值。

以上述尺寸发送UDP数据报确保网络路径在两个方向上都支持一个合理的路径最大传输单元（PMTU）值。除此之外，扩充初始数据包的客户端有助于减少因服务器响应未经验证的客户端地址而引起的放大攻击的幅度，详见[第8章]()。

如果发送方确信网络路径和对端均支持它选择的数据报尺寸，那么包含初始数据包的数据报{{< req_level MAY >}}超过1200字节。

如果一个UDP数据报的载荷小于1200字节，这个在允许的最大数据报尺寸中的最小值，那么服务器{{< req_level MUST >}}丢弃这个数据报中的初始数据包。服务器还{{< req_level MAY >}}通过发送一个错误码为`PROTOCOL_VIOLATION`（协议违背）的**连接关闭帧**来立即关闭连接，详见[第10.2.3章]()。

服务器还{{< req_level MUST >}}限制它在验证客户端地址前发送的字节数，详见[第8章]()。
