---
title: "5.3 连接操作"
anchor: "5.3_Operations_on_Connections"
weight: 530
rank: "h2"
---

本文没有定义QUIC的API，而是定义了一系列有关QUIC连接的函数，用于应用层协议进行依赖。
应用层协议可以假设一个QUIC的实现提供了一个包括本章所述操作的接口。
针对一个特定应用层协议而设计的实现可能只提供该协议用到的那些操作。

当实现用户端时，应用层协议可以：
- 创建一个连接，开始进行[第7章](#7_Cryptographic_and_Transport_Handshake)描述的交互过程；
- 如果支持，启用早期数据功能；
- 当早期数据被服务端接受或拒绝时，收到通知。

当实现服务端时，应用层协议可以：
- 监听传入的连接，准备进行[第7章](#7_Cryptographic_and_Transport_Handshake)描述的交互过程；
- 如果支持早期数据，在发送给客户端的TLS恢复ticket中嵌入应用层控制数据；
- 如果支持早期数据，从接收自客户端的恢复ticket中恢复应用层控制数据，并根据该信息接受或拒绝早期数据。

当同时实现客户端及服务端时，应用层协议可以：
- 如传输参数（[第7.4章](#7.4_Transport_Parameters)）所述，为每种类型允许的流的配置最小的初始数量；
- 通过设置流级别及连接级别的流量控制限制，限制接收缓存区资源分配；
- 识别握手已经成功结束抑或仍在进行中；
- 保持连接不被默认关闭，即通过PING帧（[第19.2章](#19.2_PING_Frames)）或其他请求使得传输层在空闲超时（[第10.1章](#10.1_Idle_Timeout)）前发送额外的帧；以及
- 立即关闭连接（[第10.2章](#10.2_Immediate_Close)）。