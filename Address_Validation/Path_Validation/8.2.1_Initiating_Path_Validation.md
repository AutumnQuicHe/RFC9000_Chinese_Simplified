---
title: "8.2.1 发起地址验证"
anchor: "8.2.1_Initiating_Path_Validation"
weight: 821
rank: "h3"
---

要发起路径验证，终端在要被验证的路径上发送一个包含不可预测的载荷的**通道挑战帧**。

终端{{< req_level MAY >}}发送多个**通道挑战帧**以抵御数据包丢包。然而，终端{{< req_level SHOULD_NOT >}}使用同一个数据包发送这些**通道挑战帧**。

在用包含**通道挑战帧**的数据包探测新路径时，终端{{< req_level SHOULD_NOT >}}发送得比初始数据包还要频繁。这确保连接迁移不会比建立新连接施加更多负载给新路径。

终端{{< req_level MUST >}}在每个**通道挑战帧**中使用不可预测的数据以使得它能将对端的响应与对应的**通道挑战帧**关联起来。

终端{{< req_level MUST >}}将包含**通道挑战帧**的数据报扩充至至少1200字节，这个在允许的最大数据报尺寸中的最小值，除非那条路径的抗放大上限不允许发送那么大的数据报。发送这个尺寸的UDP数据报确保终端与对端间的网络路径能够承载QUIC数据包；详见[第14章](#14_Datagram_Size)。

当终端因为抗放大上限而不能将数据报扩充至1200字节时，路径的MTU将不会被验证。为了确保路径的MTU足够大，终端必须通过在至少1200字节的数据报中发送**通道挑战帧**的方式进行第二次路径验证。这次额外的验证可以在**回复通道帧**被成功接收到之后再进行，也可以等到在路径上收到了足够数量的字节而使得发送一个大一点的数据包也不会超过抗放大上限的时候再进行。

不像其他需要扩充数据报的情况，如果数据报包含了**通道挑战帧**或**回复通道帧**，那么终端{{< req_level MUST_NOT >}}丢弃看起来过小的数据报。
