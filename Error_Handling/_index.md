---
title: "11. 错误处理"
anchor: "11_Error_Handling"
weight: 1100
rank: "h1"
---

检测到错误的终端{{< req_level SHOULD >}}向对端发送出现了这个错误的信号。传输层和应用层的错误都会影响整条连接，详见[第11.1章](#11.1_Connection_Errors)。只有应用层的错误可以被隔离到单条流上，详见[第11.2章](#11.2_Stream_Errors)。

在发送信号的帧中{{< req_level SHOULD >}}使用最合适的错误码（详见[第10章](#10_Connection_Termination)）。这份规范中在描述错误情形的地方会定义这时候使用的错误码；尽管这些定义被称作”要求“，但是不同的实现策略可能导致最终报告不同的错误。特别是，终端在检测到错误情形时，{{< req_level MAY >}}使用任何适用的错误码；通用的错误码（比如`PROTOCOL_VIOLATION`（协议违背）或`INTERNAL_ERROR`（内部错误））总是可以用在其他错误码可以用的地方。

对于可以使用**连接关闭帧**或**流重置帧**来发送信号的错误，不适合使用无状态重置（[第10.3章](#10.3_Stateless_Reset)）。具有足够的状态数据来在连接上发送帧的终端{{< req_level MUST_NOT >}}使用无状态重置。
