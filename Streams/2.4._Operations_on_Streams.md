---
title: "2.4. 流操作"
anchor: "2.4._Operations_on_Streams"
weight: 240
rank: "h2"
---

本文没有定义QUIC API，而是定义了一系列流操作相关的函数可以用于应用层协议的构建。
应用层协议可以假定QUIC有关实现提供了本章描述的操作对应的接口。
为一个特定应用层协议设计实现的QUIC协议可能仅仅提供该协议需要的这些操作。

在流的发送部分，应用层协议可以：
- 写数据，只有当流量控制给数据写出留足空间（[第4.1章](#4.1_Data_Flow_Control)）才能成功写出；
- 结束流（清理并关闭），发送一个设置FIN位为1的流帧（[第19.8章](#19.8_STREAM_Frames)）；
- 重置流（中止并关闭），当流未处在终止状态时发送一个RESET_STREAM帧（[第19.4章](#19.4_RESET_STREAM_Frames)）。

在流的接收部分，应用层协议可以：
- 读数据，以及
- 中止读取流数据并请求关闭流，该操作可能需要发送STOP_SENDING帧（[第19.5章](#19.5_STOP_SENDING_Frames)）。

应用层协议也可以请求在流状态改变的时候收到通知信息，包括当对端开启或重置流、对端中止流数据读取、有新数据可以读取、以及数据可以写出或因流控不能写出。
