---
title: "2.2. 数据发送与接收"
anchor: "2.2_Sending_and_Receiving_Data"
weight: 220
rank: "h2"
---

流帧（[第19.8章](#19.8_STREAM_Frames)）封装应用层发送的数据。
终端使用流帧的流ID及偏移字段整理数据。

终端{{< req_level MUST >}}将流数据以一个有序字节流传递给应用层。
传递一个有序字节流需要终端缓存任何接收到的乱序数据，直到到达了建议的流量控制限制的上限。

QUIC对于传递流的无序数据并没有做额外的打算。
然而，实现上 {{< req_level MAY >}}选择支持传递无序数据给应用层接收。

终端可以从一条流的同一个偏移位置多次接收数据。
如果数据已经被接收过了，就会直接被丢弃。
处在任何偏移位置的数据如果被重复发送，其{{< req_level MUST_NOT >}}能更改。
终端{{< req_level MAY >}}将在流的同一偏移处收到不同数据的情况视为PROTOCOL_VIOLATION类型（违反协议）的连接错误。

流是一个抽象的有序字节流，QUIC不感知除此以外的任何结构。
流帧的边界在数据被传输、丢包后重传以及被传递给应用层接收者后，不会继续保留。

终端{{< req_level MUST_NOT >}}能在对端设置的流量控制限制之外发送任何数据。流量控制详见[第4章](#4_Flow_Control)。
