---
title: "21.5.6. 针对请求伪造的通用对抗措施"
anchor: "21.5.6_Generic_Request_Forgery_Countermeasures"
weight: 210560
rank: "h3"
---

针对请求伪造攻击的最有效防御方法就是修改易受攻击的服务，让它使用强有力的鉴权认证。然而，这一点并不总是在QUIC部署的控制之下。本节概述了QUIC终端可以单方面采取的一些其他措施。这些额外措施都应该酌情使用，因为根据情况的不同，它们可能干涉或阻止QUIC的正常工作。

通过回环接口提供的服务通常缺乏恰当的鉴权认证。终端{{< req_level MAY >}}阻止指向回环地址的连接尝试或迁移。当指向的服务曾在另一个接口上开放过，或者指向的回环地址是由位于非回环地址的服务提供的，那么终端{{< req_level SHOULD_NOT >}}批准指向这个回环地址的连接或迁移。依赖于这些能力的终端可以提供一个可以禁用这些保护的选项。

类似地，终端可以将从全球唯一地址、唯一本地地址（详见《[RFC4193](https://www.rfc-editor.org/info/rfc4193)》）或非私有地址变更到链路本地地址（详见《[RFC4291](https://www.rfc-editor.org/info/rfc4291)》）或处于私有使用范围的地址（详见《[RFC1918](https://www.rfc-editor.org/info/rfc1918)》）的情况视作潜在的对请求伪造的企图。终端可以完全拒绝使用以上地址，但是要承担干涉QUIC合法用途的巨大风险。终端{{< req_level SHOULD_NOT >}}拒绝使用某个地址，除非它对于网络的先验知识告诉它向某范围内的未经验证的地址发送数据报是不安全的。

终端{{< req_level MAY >}}选择以不使用来自初始数据包中**新令牌帧**的值的方式或只有在完成地址验证后才在数据包中发送探测帧的方式来减少请求伪造的风险。注意，这不能阻止攻击者将目标连接ID用于攻击中。

终端不需要专门持有容易成为请求伪造攻击目标的服务器的位置信息。然而，经过一段时间后，识别出某些常常成为攻击目标的UDP端口或被用于进行攻击的数据报中的特定模式是有可能的。终端{{< req_level MAY >}}选择避免向那些端口发送数据报或不在验证目标地址前发送符合这种模式的数据包。终端{{< req_level MAY >}}撤销符合已知可能产生问题的模式的连接ID而不使用它们。

注意： 修改终端来应用以上保护措施比起部署基于网络的保护措施要更高效，因为终端在向经验证的地址发送数据时不需要进行额外的处理。
